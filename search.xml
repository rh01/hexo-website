<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[系列01-利用Python爬虫来抓取银行的牌告汇率]]></title>
      <url>%2F2017%2F02%2F16%2F%E5%88%A9%E7%94%A8Python%E7%88%AC%E8%99%AB%E6%9D%A5%E6%8A%93%E5%8F%96%E9%93%B6%E8%A1%8C%E7%9A%84%E7%89%8C%E5%91%8A%E6%B1%87%E7%8E%87%2F</url>
      <content type="text"><![CDATA[python爬虫抓取台湾银行的牌告汇率,让你更加获益 台湾银行网站为 http://rate.bot.com.tw/xrt?Lang=zh-TW视频为：https://www.youtube.com/watch?v=-c5rrzjsN34简介：利用pandas爬去牌告汇率，然后生成excel文件 利用谷歌浏览器: chrome –&gt; 检查 –&gt; Network(监听器) 传统的requests爬取12345# import require moduleimport requests# Get request from indentity object websitereq = requests.get('http://rate.bot.com.tw/xrt?Lang=zh-TW')print req.text &lt;!DOCTYPE html&gt; &lt;html lang=&quot;zh-TW&quot; class=&quot;no-js&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;臺灣銀行牌告匯率&lt;/title&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge, chrome=1&quot;&gt; &lt;meta name=&quot;description&quot; content=&quot;臺灣銀行匯率利率黃金牌價查詢&quot;&gt; &lt;meta name=&quot;keywords&quot; content=&quot;&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, ....... h class=&quot;rate-content-sight print_hide&quot; data-hide=&quot;phone&quot;&gt; &lt;span style=&quot;width:inherit;&quot;&gt; &lt;span class=&quot;&quot;&gt;本行買入&lt;/span&gt; &lt;/span&gt; &lt;/th&gt; &lt;th class=&quot;rate-content-sight print_hide&quot; data-hide=&quot;phone&quot;&gt; &lt;span style=&quot;width:inherit;&quot;&gt; &lt;span class=&quot;&quot;&gt;本行賣出&lt;/span&gt; &lt;/span&gt; &lt;/th&gt; &lt;th class=&quot;hidden&quot;&gt;&lt;/th&gt; &lt;th class=&quot;display_none_print_show print_width&quot;&gt;&lt;span style=&quot;width:inherit;&quot;&gt;本行買入&lt;/span&gt;&lt;/th&gt; &lt;th class=&quot;display_none_print_show print_width&quot;&gt;&lt;span style=&quot;width:inherit;&quot;&gt;本行賣出&lt;/span&gt;&lt;/th&gt; &lt;th class=&quot;display_none_print_show print_width&quot;&gt;&lt;span style=&quot;width:inherit;&quot;&gt;本行買入&lt;/span&gt;&lt;/th&gt; &lt;th class=&quot;display_none_print_show print_width&quot;&gt;&lt;span style=&quot;width:inherit;&quot;&gt;本行賣出&lt;/span&gt;&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-america-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-america-img&quot; /&gt; &lt;/div&gt; &lt;br class=&quot;visible-phone print_hide&quot; /&gt; &lt;div class=&quot;visible-phone print_hide&quot;&gt; 美金 (USD) &lt;/div&gt; &lt;div class=&quot;hidden-phone print_show&quot; style=&quot;text-indent:30px;&quot;&gt; 美金 (USD) &lt;/div&gt; &lt;/div&gt; &lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;31.18&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;31.722&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;31.48&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;31.58&lt;/td&gt; &lt;td data-table=&quot;遠期匯率買入/賣出&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/forward/USD&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;歷史匯率&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/history/USD&quot; target=&quot;_blank&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;31.18&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;31.722&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;31.48&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;31.58&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-hong-kong-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-hong-kong-img&quot; /&gt; &lt;/div&gt; &lt;br class=&quot;visible-phone print_hide&quot; /&gt; &lt;div class=&quot;visible-phone print_hide&quot;&gt; 港幣 (HKD) &lt;/div&gt; &lt;div class=&quot;hidden-phone print_show&quot; style=&quot;text-indent:30px;&quot;&gt; 港幣 (HKD) &lt;/div&gt; &lt;/div&gt; &lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;3.914&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;4.109&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;4.034&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;4.094&lt;/td&gt; &lt;td data-table=&quot;遠期匯率買入/賣出&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/forward/HKD&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;歷史匯率&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/history/HKD&quot; target=&quot;_blank&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;3.914&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;4.109&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;4.034&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;4.094&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-england-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-england-img&quot; /&gt; &lt;/div&gt; &lt;br class=&quot;visible-phone print_hide&quot; /&gt; &lt;div class=&quot;visible-phone print_hide&quot;&gt; 英鎊 (GBP) &lt;/div&gt; &lt;div class=&quot;hidden-phone print_show&quot; style=&quot;text-indent:30px;&quot;&gt; 英鎊 (GBP) &lt;/div&gt; &lt;/div&gt; &lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;37.82&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;39.75&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;38.69&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;39.11&lt;/td&gt; &lt;td data-table=&quot;遠期匯率買入/賣出&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/forward/GBP&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;歷史匯率&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/history/GBP&quot; target=&quot;_blank&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;37.82&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;39.75&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;38.69&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;39.11&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-australia-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-australia-img&quot; /&gt; &lt;/div&gt; &lt;br class=&quot;visible-phone print_hide&quot; /&gt; &lt;div class=&quot;visible-phone print_hide&quot;&gt; 澳幣 (AUD) &lt;/div&gt; &lt;div class=&quot;hidden-phone print_show&quot; style=&quot;text-indent:30px;&quot;&gt; 澳幣 (AUD) &lt;/div&gt; &lt;/div&gt; &lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;23.53&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;24.19&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;23.72&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;23.95&lt;/td&gt; &lt;td data-table=&quot;遠期匯率買入/賣出&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/forward/AUD&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;歷史匯率&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/history/AUD&quot; target=&quot;_blank&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;23.53&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;24.19&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;23.72&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;23.95&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-canada-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-canada-img&quot; /&gt; &lt;/div&gt; &lt;br class=&quot;visible-phone print_hide&quot; /&gt; &lt;div class=&quot;visible-phone print_hide&quot;&gt; 加拿大幣 (CAD) &lt;/div&gt; &lt;div class=&quot;hidden-phone print_show&quot; style=&quot;text-indent:30px;&quot;&gt; 加拿大幣 (CAD) &lt;/div&gt; &lt;/div&gt; &lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;23.34&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;24.08&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;23.61&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;23.83&lt;/td&gt; &lt;td data-table=&quot;遠期匯率買入/賣出&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/forward/CAD&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;歷史匯率&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/history/CAD&quot; target=&quot;_blank&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;23.34&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;24.08&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;23.61&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;23.83&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-singapore-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-singapore-img&quot; /&gt; &lt;/div&gt; &lt;br class=&quot;visible-phone print_hide&quot; /&gt; &lt;div class=&quot;visible-phone print_hide&quot;&gt; 新加坡幣 (SGD) &lt;/div&gt; &lt;div class=&quot;hidden-phone print_show&quot; style=&quot;text-indent:30px;&quot;&gt; 新加坡幣 (SGD) &lt;/div&gt; &lt;/div&gt; &lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;21.62&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;rate-content-cash text-right print_hide&quot;&gt;22.4&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;22.04&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;rate-content-sight text-right print_hide&quot; data-hide=&quot;phone&quot;&gt;22.22&lt;/td&gt; &lt;td data-table=&quot;遠期匯率買入/賣出&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/forward/SGD&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;歷史匯率&quot; class=&quot;text-center print_hide phone-small-font&quot;&gt;&lt;a href=&quot;/xrt/history/SGD&quot; target=&quot;_blank&quot;&gt;查詢&lt;/a&gt;&lt;/td&gt; &lt;td data-table=&quot;本行現金買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;21.62&lt;/td&gt; &lt;td data-table=&quot;本行現金賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;22.4&lt;/td&gt; &lt;td data-table=&quot;本行即期買入&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;22.04&lt;/td&gt; &lt;td data-table=&quot;本行即期賣出&quot; class=&quot;text-right display_none_print_show print_width&quot;&gt;22.22&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td data-table=&quot;幣別&quot; class=&quot;currency phone-small-font&quot;&gt; &lt;div&gt; &lt;div class=&quot;sp-div sp-swiss-div&quot;&gt; &lt;img title=&quot;幣別國旗&quot; alt=&quot;幣別國旗&quot; src=&quot;/Content/images/sprite_lateral.png&quot; class=&quot;sp-img sp-swiss-img&quot; /&gt; ...... $(window).load(function () { //最近一個營業日不可比較幣別，比較幣別為空時不顯示現金&amp;即期(for chrome) search_range_check($(&apos;input:radio:checked[name=&quot;search_range&quot;]&apos;)); //alert(&quot;load&quot;); }) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 利用pandas库来爬取网页的数据1234# improt pandas moduleimport pandas# read html to transform html to list of pythondfs = pandas.read_html('http://rate.bot.com.tw/xrt?Lang=zh-TW') 1type(dfs) list 1len(dfs) 1 123# dfs is list# currency is DataFramecurrency = dfs[0] 1type(currency) pandas.core.frame.DataFrame 12# currency.ix[row, columnns]currency = currency.ix[:,:5] 12# 重置列标题currency.columns = [u'幣別',u'現金匯率-本行買入',u'現金匯率-本行賣出',u'即期匯率-本行買入',u'即期匯率-本行賣出'] 12# 正则表达式 提取币别currency[u'幣別'] = currency[u'幣別'].str.extract('\((\w+)\)') # \((\w+)\) C:\Users\Administrator\Anaconda2\lib\site-packages\ipykernel\__main__.py:1: FutureWarning: currently extract(expand=None) means expand=False (return Index/Series/DataFrame) but in a future version of pandas this will be changed to expand=True (return DataFrame) if __name__ == &apos;__main__&apos;: 1currency 幣別 現金匯率-本行買入 現金匯率-本行賣出 即期匯率-本行買入 即期匯率-本行賣出 0 USD 31.18 31.722 31.48 31.58 1 HKD 3.914 4.109 4.034 4.094 2 GBP 37.82 39.75 38.69 39.11 3 AUD 23.53 24.19 23.72 23.95 4 CAD 23.34 24.08 23.61 23.83 5 SGD 21.62 22.4 22.04 22.22 6 CHF 30.68 31.74 31.21 31.5 7 JPY 0.2664 0.2774 0.2728 0.2768 8 ZAR - - 2.29 2.37 9 SEK 3.14 3.65 3.48 3.58 10 NZD 22.34 22.97 22.58 22.78 11 THB 0.7886 0.9316 0.8771 0.9171 12 PHP 0.5826 0.7156 - - 13 IDR 0.00198 0.00268 - - 14 EUR 32.96 34.11 33.46 33.86 15 KRW 0.02518 0.02908 - - 16 VND 0.00102 0.00152 - - 17 MYR 6.006 7.606 - - 18 CNY 4.51 4.672 4.582 4.632 12# save currency to excel form currency.to_excel('currency.xlsx')]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[利用pandas实现输出漂亮的图表]]></title>
      <url>%2F2017%2F02%2F16%2F%E5%88%A9%E7%94%A8pandas%E5%AE%9E%E7%8E%B0%E8%BE%93%E5%87%BA%E6%BC%82%E4%BA%AE%E7%9A%84%E5%9B%BE%E8%A1%A8%2F</url>
      <content type="text"><![CDATA[利用python的数据分析 pandas 库来可视化近期货币的走势，具体代码见-&gt; 12import pandasdf = pandas.read_csv('ExchangeRate@201701231600.csv') 1df.head() 1df.info() &lt;class &apos;pandas.core.frame.DataFrame&apos;&gt; Int64Index: 127 entries, 20170123 to 20160725 Data columns (total 22 columns): 数据日期 127 non-null object 币别 127 non-null object 汇率 127 non-null float64 现金 127 non-null float64 即期 127 non-null float64 远期10天 127 non-null float64 远期30天 127 non-null float64 远期60天 127 non-null float64 远期90天 127 non-null float64 远期120天 127 non-null float64 远期150天 127 non-null float64 远期180天 127 non-null object 汇率.1 127 non-null float64 现金.1 127 non-null float64 即期.1 127 non-null float64 远期10天.1 127 non-null float64 远期30天.1 127 non-null float64 远期60天.1 127 non-null float64 远期90天.1 127 non-null float64 远期120天.1 127 non-null float64 远期150天.1 127 non-null float64 远期180天.1 0 non-null float64 dtypes: float64(19), object(3) memory usage: 22.8+ KB 1? pandas.to_datetime 1df.index = pandas.to_datetime(df.index, format='%Y%m%d') 1%pylab inline Populating the interactive namespace from numpy and matplotlib 1df.plot(kind = 'line', y=['汇率', '现金']) &lt;matplotlib.axes._subplots.AxesSubplot at 0x9fad438&gt;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[old-利用opencv实现脸部识别]]></title>
      <url>%2F2017%2F02%2F16%2Fold-%E5%88%A9%E7%94%A8opencv%E5%AE%9E%E7%8E%B0%E8%84%B8%E9%83%A8%E8%AF%86%E5%88%AB%2F</url>
      <content type="text"><![CDATA[利用很简单的OpenCV库在JuPyter上实现了一个简单的练习，人脸检测。使用了OpenCV成熟的级联分类器,又称为 分类器 haarcascade_frontalface_default.xml 12import matplotlib.pyplot as plt%matplotlib inline 12345import sys, cv2imagePath = 'goddess.jpg'image = cv2.imread(imagePath)# plt.imshow(image)plt.imshow(cv2.cvtColor(image, cv2.COLOR_BGR2RGB)) &lt;matplotlib.image.AxesImage at 0x82e7e48&gt; 1234567891011faceCascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)faces = faceCascade.detectMultiScale( gray, #灰阶图像 scaleFactor = 1.1, #缩减10个百分点的图像 minNeighbors = 5, # minSize = (30, 30), #window flags = cv2.CASCADE_SCALE_IMAGE)print faces #[[x, y, w, h]] [[280 51 194 194]] 123456import randomfont =cv2.FONT_HERSHEY_SCRIPT_SIMPLEXfor (x, y, w, h) in faces: cv2.rectangle(image, (x, y), (x + w, y + h), (14, 201, 255) , 2) #在脸上加上一个桔色的宽度为2的矩形边框 cv2.putText(image, str(random.randrange(20, 30)), (x+(w/2)-18, y-10), font, 1, (14, 201, 255), 3)plt.imshow(cv2.cvtColor(image, cv2.COLOR_BGR2RGB)) &lt;matplotlib.image.AxesImage at 0x10639860&gt;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[爬虫实战第一天-抓取淘宝网站的名称和价格]]></title>
      <url>%2F2017%2F02%2F16%2F%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E7%AC%AC%E4%B8%80%E5%A4%A9-%E6%8A%93%E5%8F%96%E6%B7%98%E5%AE%9D%E7%BD%91%E7%AB%99%E7%9A%84%E5%90%8D%E7%A7%B0%E5%92%8C%E4%BB%B7%E6%A0%BC%2F</url>
      <content type="text"><![CDATA[之前在YouTube上学习过一系列的爬虫实战课程,淘宝（这里的淘宝指的是 台湾淘宝）使用AJAX 的方式填入页面内容。因此在这里便可以从XHR 以及JS 下手，找寻入口点，再使用正规表达式(re)，便可以快速的剖析出重要资讯， 123import requestsres = requests.get('https://world.taobao.com/search/json.htm?navigator=all&amp;_ksTS=1485567171915_27&amp;spm=a21bp.7806943.20151106.1&amp;json=on&amp;suggest_query=iphon&amp;cna=tmcHEBoqTyQCAbfMJrlM1vUh&amp;wq=iphon&amp;suggest=0_4&amp;_input_charset=utf-8&amp;source=suggest&amp;q=iphone6%E6%89%8B%E6%9C%BA%E5%A3%B3&amp;callback=__jsonp_cb&amp;abtest=_AB-LR517-LR854-LR895-PR517-PR854-PR895&amp;nid=&amp;type=&amp;uniqpid=')print res.text if(window.__jsonp_cb){__jsonp_cb({&quot;abtestParams&quot;:{&quot;bucket&quot;:&quot;18&quot;,&quot;biparam&quot;:&quot;_AB-LR517-LR854-LR895-PR517-PR854-PR895&quot;},&quot;autoNav&quot;:{&quot;auxCategory&quot;:[],&quot;findNum&quot;:&quot;191.41万&quot;,&quot;navCategory&quot;:[{&quot;cid&quot;:&quot;56152131&quot;,&quot;cname&quot;:&quot;3C数码配件&quot;,&quot;count&quot;:&quot;1857503&quot;,&quot;flag&quot;:&quot;qp_commend&quot;,&quot;subCids&quot;:[{&quot;cid&quot;:&quot;56152157&quot;,&quot;cname&quot;:&quot;保护套/壳&quot;,&quot;count&quot;:&quot;1844168&quot;,&quot;flag&quot;:&quot;qp_commend&quot;},{&quot;cid&quot;:&quot;56152161&quot;,&quot;cname&quot;:&quot;充电器/線&quot;,&quot;count&quot;:&quot;503&quot;,&quot;flag........ 1234import json import rem = re.search('if\(window.__jsonp_cb\)\&#123;__jsonp_cb\((.*?)\)\&#125;', res.text)m.group(1) u&apos;{&quot;abtestParams&quot;:{&quot;bucket&quot;:&quot;18&quot;,&quot;biparam&quot;:&quot;_AB-LR517-LR854-LR895-PR517-PR854-PR895&quot;},&quot;autoNav&quot;:{&quot;auxCategory&quot;:[],&quot;findNum&quot;:&quot;191.41\u4e07&quot;,&quot;navCategory&quot;:[{&quot;cid&quot;:&quot;56152131&quot;,&quot;cname&quot;:&quot;3C\u6570\u7801\u914d\u4ef6&quot;,&quot;count&quot;:&quot;1857503&quot;,&quot;flag&quot;:&quot;qp_commend&quot;,&quot;subCids&quot;:[{&quot;cid&quot;:&quot;56152157&quot;,&quot;cname&quot;:&quot;\u4fdd\u62a4\u5957/\u58f3&quot;,&quot;count&quot;:&quot;1844168&quot;,&quot;flag&quot;:&quot;qp_commend&quot;},{&quot;cid&quot;:&quot;56152161&quot;,&quot;cname&quot; 1jd = json.loads(m.group(1)) 1jd {u&apos;abtestParams&apos;: {u&apos;biparam&apos;: u&apos;_AB-LR517-LR854-LR895-PR517-PR854-PR895&apos;, u&apos;bucket&apos;: u&apos;18&apos;},......... 12with open('a.json','w') as f: f.write(json.dumps(jd)) 12for item in jd['itemList']: print item['nick'],item['price'] ibhdme数码旗舰店 29.00 晋美通讯 39.00 柯米数码专营店 35.00 凯莱德数码专营店 88.00 pehe旗舰店 48.00 法栋数码专营 98.00 coolook数码旗舰店 35.00 lunaluno数码旗舰店 29.90 亦嘉殿 28.00 驰界数码 58.00 citycase旗舰店 58.00 makorday 29.80 唯友通讯 58.00 milan9995200 68.00 伯托尔数码专营店 138.00 h_belis 26.00 梦幻文文 60.00 12import pandasdf = pandas.DataFrame(jd['itemList']) 1df]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[about]]></title>
      <url>%2F2017%2F02%2F16%2Fabout%2F</url>
      <content type="text"></content>
    </entry>

    
    <entry>
      <title><![CDATA[新的开始]]></title>
      <url>%2F2017%2F02%2F15%2F%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B%2F</url>
      <content type="text"><![CDATA[这是新的开始，我用hexo创建了第一篇文章。 通过下面的命令，就可以创建新文章12D:\workspace\javascript\nodejs-hexo&gt;hexo new 新的开始[info] File created at D:\workspace\javascript\nodejs-hexo\source\_posts\新的开始.md]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>%2F2017%2F02%2F15%2Fhello-world%2F</url>
      <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
    </entry>

    
  
  
</search>
